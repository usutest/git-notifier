FROM ruby:2.2-onbuild

ENV APP_ENV development
ENV APP_CONFIG_GITHUB_CLIENT_ID someid
ENV APP_CONFIG_GITHUB_CLIENT_SECRET somesecret

ENV APP_CONFIG_REDIS_HOST localhost
ENV APP_CONFIG_REDIS_PORT 6379
ENV APP_CONFIG_REDIS_DB 1
ENV APP_CONFIG_REDIS_NAMESPACE ghntfr

ENV APP_CONFIG_DOMAIN localhost:4567

ENV APP_CONFIG_SECRET somesecret

ENV APP_ENQUEUER_SLEEP_TIME 300

ADD ./docker/enqueuer/entrypoint.sh /entrypoint.sh

ENTRYPOINT [ "/entrypoint.sh" ]
